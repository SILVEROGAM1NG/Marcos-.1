/**
</> Original base BochilGaming 
</> Recode simple by @NeKosmic
**/
const _0x2c4216=_0x9aaa;(function(_0x28baa0,_0x10f7b1){const _0x5954cc=_0x9aaa,_0x104ff9=_0x28baa0();while(!![]){try{const _0x5537f4=parseInt(_0x5954cc(0x17f))/(-0x6*-0x1cf+-0x22ea+0x1811)+parseInt(_0x5954cc(0x1b5))/(0x8*-0x2d7+0xe4a*-0x1+-0x941*-0x4)+-parseInt(_0x5954cc(0x192))/(-0x99*-0x1c+-0x25fa+-0x1541*-0x1)*(parseInt(_0x5954cc(0x19c))/(-0x2252+-0x51*-0x9+0x1f7d))+parseInt(_0x5954cc(0x197))/(-0x1e82+0x1e71+0x16)*(-parseInt(_0x5954cc(0x140))/(0x3d*-0x94+0x1*-0xe95+0x31df))+parseInt(_0x5954cc(0x167))/(-0x1fd7+-0x4f2*0x5+-0x713*-0x8)*(-parseInt(_0x5954cc(0x15d))/(0xf5b+0x13b4*-0x1+0x461))+parseInt(_0x5954cc(0x177))/(-0x7de+-0xb*-0x26f+0x142*-0xf)+parseInt(_0x5954cc(0x1a2))/(-0x20ba+-0x26e1+0x47a5);if(_0x5537f4===_0x10f7b1)break;else _0x104ff9['push'](_0x104ff9['shift']());}catch(_0x1b7548){_0x104ff9['push'](_0x104ff9['shift']());}}}(_0x262d,0x144e52+0x103397+-0x1f303*0xc));import _0x23e05f from'node-fetch';function _0x9aaa(_0x2e151a,_0x55ae12){const _0x1de457=_0x262d();return _0x9aaa=function(_0x259902,_0x4c218a){_0x259902=_0x259902-(-0x1458+-0x18ba+0x2e4a);let _0x1fadd8=_0x1de457[_0x259902];return _0x1fadd8;},_0x9aaa(_0x2e151a,_0x55ae12);}import{dirname}from'path';import{fileURLToPath}from'url';import*as _0x35e411 from'fs';import*as _0x434a72 from'path';import*as _0x2f27b7 from'crypto';import{ffmpeg}from'./converter.js';import _0x308492 from'fluent-ffmpeg';import{fileTypeFromBuffer}from'file-type';import _0x1169a5 from'node-webpmux';const __dirname=dirname(fileURLToPath(import.meta[_0x2c4216(0x16a)]));async function sticker1(_0x3eb5fa,_0x41d3af){const _0x1a6609=_0x2c4216,_0x3a575b={'vTDQm':function(_0x42752c,_0x6d0501){return _0x42752c(_0x6d0501);},'JWmuK':function(_0x34e9a6,_0x53430b){return _0x34e9a6!==_0x53430b;},'rcISD':function(_0x18168c,_0x53a740,_0x3472f4,_0x392eb7,_0x32d13f){return _0x18168c(_0x53a740,_0x3472f4,_0x392eb7,_0x32d13f);},'lSQLt':_0x1a6609(0x13e),'FYYRv':_0x1a6609(0x19a)+_0x1a6609(0x199)+_0x1a6609(0x15a)+_0x1a6609(0x17c)+_0x1a6609(0x1b2)+_0x1a6609(0x194)+_0x1a6609(0x142)+_0x1a6609(0x182)+_0x1a6609(0x180)+_0x1a6609(0x15c)+_0x1a6609(0x16e)+_0x1a6609(0x166)+_0x1a6609(0x144)+_0x1a6609(0x1a4),'BAosw':_0x1a6609(0x158),'nMHtN':_0x1a6609(0x13b)};if(_0x41d3af){let _0x2b73bf=await _0x3a575b[_0x1a6609(0x18d)](_0x23e05f,_0x41d3af);if(_0x3a575b[_0x1a6609(0x1ac)](_0x2b73bf[_0x1a6609(0x159)],-0x321*-0x8+0x1*0x511+0x5dd*-0x5))throw await _0x2b73bf[_0x1a6609(0x163)]();_0x3eb5fa=Buffer[_0x1a6609(0x149)](await _0x2b73bf[_0x1a6609(0x13f)+'r']());}const _0x374610=await _0x3a575b[_0x1a6609(0x193)](ffmpeg,_0x3eb5fa,[_0x3a575b[_0x1a6609(0x18f)],_0x3a575b[_0x1a6609(0x184)]],_0x3a575b[_0x1a6609(0x1a5)],_0x3a575b[_0x1a6609(0x198)]);return _0x374610[_0x1a6609(0x157)]();}function sticker2(_0x55bef3,_0xfe8205){const _0x47efd8=_0x2c4216,_0x35a06b={'hoGox':function(_0x4978c1,_0x1ac774){return _0x4978c1(_0x1ac774);},'AKHVb':function(_0x1c8c83,_0x559347){return _0x1c8c83(_0x559347);},'VcdIy':function(_0x4f03aa,_0x2dd18f){return _0x4f03aa(_0x2dd18f);},'rFJaP':function(_0x2d2a6b,_0x18cd53){return _0x2d2a6b!==_0x18cd53;},'bbxmr':function(_0x912677,_0x4edc90){return _0x912677(_0x4edc90);},'iudHh':_0x47efd8(0x168)+_0x47efd8(0x196)+_0x47efd8(0x18b),'AFMNd':_0x47efd8(0x1a0),'OUWrG':function(_0x25aa57,_0x5e020a){return _0x25aa57==_0x5e020a;},'JmVXr':function(_0x3c68c8,_0x32006a){return _0x3c68c8+_0x32006a;},'SLygZ':_0x47efd8(0x169),'uzwdf':function(_0x12c40f,_0x1dcc96){return _0x12c40f(_0x1dcc96);},'RSKMB':function(_0x576baa,_0x4e8d88){return _0x576baa(_0x4e8d88);},'ZuglK':_0x47efd8(0x188),'CoUdZ':_0x47efd8(0x173),'mLanH':_0x47efd8(0x13b)};return new Promise(async(_0x1d7c24,_0x3c0993)=>{const _0x2b5a59=_0x47efd8,_0x233d8f={'PWjbw':function(_0x51113a,_0xb7891e){const _0x883205=_0x9aaa;return _0x35a06b[_0x883205(0x1a1)](_0x51113a,_0xb7891e);}};if(_0xfe8205){let _0x432f04=await _0x35a06b[_0x2b5a59(0x160)](_0x23e05f,_0xfe8205);if(_0x35a06b[_0x2b5a59(0x1a3)](_0x432f04[_0x2b5a59(0x159)],0x1b39+0x2*-0x5f3+-0xe8b))throw await _0x432f04[_0x2b5a59(0x163)]();_0x55bef3=Buffer[_0x2b5a59(0x149)](await _0x432f04[_0x2b5a59(0x13f)+'r']());}const _0x32d7ea=await _0x35a06b[_0x2b5a59(0x152)](fileTypeFromBuffer,_0x55bef3)||{'mime':_0x35a06b[_0x2b5a59(0x1ae)],'ext':_0x35a06b[_0x2b5a59(0x19d)]};if(_0x35a06b[_0x2b5a59(0x15e)](_0x32d7ea[_0x2b5a59(0x15f)],_0x35a06b[_0x2b5a59(0x19d)]))_0x35a06b[_0x2b5a59(0x1a1)](_0x3c0993,_0x55bef3);const _0x5847b2=_0x434a72[_0x2b5a59(0x1b1)](__dirname,_0x2b5a59(0x155)+ +new Date()+'.'+_0x32d7ea[_0x2b5a59(0x15f)]),_0x157393=_0x434a72[_0x2b5a59(0x1b1)](_0x35a06b[_0x2b5a59(0x164)](_0x5847b2,_0x35a06b[_0x2b5a59(0x16f)]));await _0x35e411[_0x2b5a59(0x1b7)][_0x2b5a59(0x14f)](_0x5847b2,_0x55bef3);let _0x57c283=/video/i[_0x2b5a59(0x165)](_0x32d7ea[_0x2b5a59(0x170)])?_0x35a06b[_0x2b5a59(0x13d)](_0x308492,_0x5847b2)[_0x2b5a59(0x16d)+'t'](_0x32d7ea[_0x2b5a59(0x15f)]):_0x35a06b[_0x2b5a59(0x14e)](_0x308492,_0x5847b2)[_0x2b5a59(0x191)](_0x5847b2);_0x57c283['on'](_0x35a06b[_0x2b5a59(0x14a)],function(_0x44aeaa){const _0x375b52=_0x2b5a59;console[_0x375b52(0x188)](_0x44aeaa),_0x35e411[_0x375b52(0x1b7)][_0x375b52(0x17e)](_0x5847b2),_0x35a06b[_0x375b52(0x18c)](_0x3c0993,_0x55bef3);})['on'](_0x35a06b[_0x2b5a59(0x1a7)],async function(){const _0x31bb1a=_0x2b5a59;_0x35e411[_0x31bb1a(0x1b7)][_0x31bb1a(0x17e)](_0x5847b2),_0x233d8f[_0x31bb1a(0x14d)](_0x1d7c24,await _0x35e411[_0x31bb1a(0x1b7)][_0x31bb1a(0x13c)](_0x157393));})[_0x2b5a59(0x16c)+_0x2b5a59(0x195)]([_0x2b5a59(0x171),_0x2b5a59(0x187),_0x2b5a59(0x13e),_0x2b5a59(0x139)+_0x2b5a59(0x153)+_0x2b5a59(0x185)+_0x2b5a59(0x190)+_0x2b5a59(0x14b)+_0x2b5a59(0x1b4)+_0x2b5a59(0x19b)+_0x2b5a59(0x1ad)+_0x2b5a59(0x16b)+_0x2b5a59(0x17b)+_0x2b5a59(0x181)+_0x2b5a59(0x186)+_0x2b5a59(0x189)+_0x2b5a59(0x138)+_0x2b5a59(0x143)+_0x2b5a59(0x19f)+_0x2b5a59(0x147)+_0x2b5a59(0x1aa)+_0x2b5a59(0x174)+_0x2b5a59(0x178)+_0x2b5a59(0x141)+_0x2b5a59(0x1a8)])[_0x2b5a59(0x18a)](_0x35a06b[_0x2b5a59(0x151)])[_0x2b5a59(0x17d)](_0x157393);});}async function addExif(_0x1aefb1,_0x283ac2,_0x389e22,_0x1828aa=[''],_0x3b21be={}){const _0x4152a1=_0x2c4216,_0x2822ff={'hrdjZ':_0x4152a1(0x145),'Kbwea':_0x4152a1(0x1a9)},_0x445153=new _0x1169a5[(_0x4152a1(0x148))](),_0x3a3095=_0x2f27b7[_0x4152a1(0x156)+'s'](0x2051+-0x2f+-0x2002)[_0x4152a1(0x154)](_0x2822ff[_0x4152a1(0x1af)]),_0xeb356f={'sticker-pack-id':_0x3a3095,'sticker-pack-name':_0x283ac2,'sticker-pack-publisher':_0x389e22,'emojis':_0x1828aa,..._0x3b21be};let _0x492752=Buffer[_0x4152a1(0x149)]([0x3*0x5ad+0x12b4+-0x2372,-0xb70+-0x1e*0x11b+0x2ce3,0xc46+0xc*0x2b3+0x80*-0x59,-0x1c88+-0x3b*0x37+0x2935,0xac7*0x1+-0x943+-0x17c,0x2e3+-0xe0f+0xb2c,-0x28c+0x1505*-0x1+0x1791*0x1,0xd9e+0x22c+-0xfca,0x1*-0x1316+-0xf71*-0x1+0x3a6,-0xe4c+0x1c5e+-0xe12,0x17b6*-0x1+0x325*-0x7+-0x2*-0x16fd,0xb*-0x95+-0x2*0xd1f+-0x2*-0x107e,0x1947+0x26f7+-0x4037,0x9*0x43+-0x1e9+-0x72,0x11a1+-0x20c1+0x2c*0x58,-0x2471*0x1+0x552+-0x1f1f*-0x1,0x4b3+-0x1a85*-0x1+-0x1f38,0x83f*-0x3+0x251+0x166c,0x95*-0x43+-0x4*-0x6c5+0xc01,-0xb9c+-0x648+0x394*0x5,-0x1*-0x136f+-0x5*0x267+0x32*-0x26,-0x12d*0x4+-0x8c9*0x2+0x1646*0x1]),_0x2b0746=Buffer[_0x4152a1(0x149)](JSON[_0x4152a1(0x1a6)](_0xeb356f),_0x2822ff[_0x4152a1(0x1b3)]),_0x3ca4d0=Buffer[_0x4152a1(0x172)]([_0x492752,_0x2b0746]);return _0x3ca4d0[_0x4152a1(0x162)+'E'](_0x2b0746[_0x4152a1(0x1b6)],0x131+0x1*0x19c+-0x2bf,-0xc58+0xaa1+0x1bb),await _0x445153[_0x4152a1(0x1ab)](_0x1aefb1),_0x445153[_0x4152a1(0x13a)]=_0x3ca4d0,await _0x445153[_0x4152a1(0x17d)](null);}async function sticker(_0x3cfe70,_0x18107a,..._0x3541d9){const _0x3b5c8a=_0x2c4216,_0x31c32b={'tAfhO':function(_0x460958,_0x1cacca,_0x46a2b9,..._0x5cdf3d){return _0x460958(_0x1cacca,_0x46a2b9,..._0x5cdf3d);},'WFTVg':_0x3b5c8a(0x183),'NzVZl':_0x3b5c8a(0x19e),'WAbbc':function(_0x2fb06c,_0x3bce7a,..._0x5cfa6b){return _0x2fb06c(_0x3bce7a,..._0x5cfa6b);}};let _0x35ddf2,_0x1b1a6d;for(let _0xbff65 of[global[_0x3b5c8a(0x150)][_0x3b5c8a(0x1b0)]&&sticker2,global[_0x3b5c8a(0x150)][_0x3b5c8a(0x1b0)]&&global[_0x3b5c8a(0x150)][_0x3b5c8a(0x14c)]&&sticker1,global[_0x3b5c8a(0x150)][_0x3b5c8a(0x1b0)]&&(global[_0x3b5c8a(0x150)][_0x3b5c8a(0x146)]||global[_0x3b5c8a(0x150)][_0x3b5c8a(0x176)]||global[_0x3b5c8a(0x150)]['gm'])][_0x3b5c8a(0x161)](_0x293ce8=>_0x293ce8)){try{_0x1b1a6d=await _0x31c32b[_0x3b5c8a(0x15b)](_0xbff65,_0x3cfe70,_0x18107a,..._0x3541d9);if(_0x1b1a6d[_0x3b5c8a(0x18e)](_0x31c32b[_0x3b5c8a(0x175)]))continue;if(_0x1b1a6d[_0x3b5c8a(0x18e)](_0x31c32b[_0x3b5c8a(0x17a)]))try{return await _0x31c32b[_0x3b5c8a(0x179)](addExif,_0x1b1a6d,..._0x3541d9);}catch(_0x2e9492){return console[_0x3b5c8a(0x188)](_0x2e9492),_0x1b1a6d;}throw _0x1b1a6d[_0x3b5c8a(0x154)]();}catch(_0x23de14){_0x35ddf2=_0x23de14;continue;}}return console[_0x3b5c8a(0x188)](_0x35ddf2),_0x35ddf2;}const support={'ffmpeg':!![],'ffprobe':!![],'ffmpegWebp':!![],'convert':!![],'magick':![],'gm':![],'find':![]};export{sticker,sticker1,sticker2,addExif,support};function _0x262d(){const _0x3bc1b2=['convert','nt=on:tran','Image','from','ZuglK','original_a','ffmpegWebp','PWjbw','RSKMB','writeFile','support','mLanH','bbxmr','(512,iw)\x27:','toString','../tmp/','randomByte','toBuffer','jpeg','status','lanczos:fo','tAfhO','ow-iw)/2:(','9890800UrDYbP','OUWrG','ext','VcdIy','filter','writeUIntL','text','JmVXr','test','olor=#0000','7Uapazp','applicatio','.webp','url','ad=512:512','addOutputO','inputForma','oh-ih)/2:c','SLygZ','mime','-vcodec','concat','end','olor=fffff','WFTVg','magick','8802603nveWSW','f\x20[p];\x20[b]','WAbbc','NzVZl',':-1:-1:col','rce_origin','save','unlink','1014025nnArme','=320:320:(','or=white@0','t=rgba,pad','html','FYYRv','min\x27(512,i','.0,\x20split\x20','libwebp','error','[a][b];\x20[a','toFormat','ream','hoGox','vTDQm','includes','lSQLt','h)\x27:force_','input','38517eSXAMY','rcISD','ratio=decr','ptions','n/octet-st','476635bjESmp','nMHtN','320:flags=','scale=320:','o=decrease','388nAhjKl','AFMNd','WEBP','_transpare','bin','AKHVb','13832780INXJKg','rFJaP','r=1','BAosw','stringify','CoUdZ','euse','utf8','sparency_c','load','JWmuK',',fps=15,\x20p','iudHh','hrdjZ','ffmpeg','join','al_aspect_','Kbwea','spect_rati','3173022ZjPfWw','length','promises',']\x20paletteg','scale=\x27min','exif','webp','readFile','uzwdf','-vf','arrayBuffe','102NzrsgV','[p]\x20palett','ease,forma','en=reserve','0000,setsa','hex'];_0x262d=function(){return _0x3bc1b2;};return _0x262d();}
/**
[_>] https://github.com/NeKosmic/
[_>] https://gitlab.com/NeKosmic/
**/