/**
</> Original base BochilGaming 
</> Recode simple by @NeKosmic
**/
const _0x459883=_0x20bf;(function(_0x5aeac2,_0x30d323){const _0x48cefc=_0x20bf,_0x535a3e=_0x5aeac2();while(!![]){try{const _0x23c897=parseInt(_0x48cefc(0xd3))/(-0x1*-0x60f+0xdc6+0x6*-0x34e)+parseInt(_0x48cefc(0xdf))/(-0x125f*-0x2+-0x3*0x15+-0x247d)+parseInt(_0x48cefc(0xa7))/(0x957+0x77a+-0x10ce)*(parseInt(_0x48cefc(0xe5))/(-0x1ca1+0x254a+-0x1*0x8a5))+parseInt(_0x48cefc(0xcf))/(-0x1b9a+0x25ff+0x53*-0x20)+parseInt(_0x48cefc(0xe3))/(0x3ac*0x2+0xfb*0x6+0x2*-0x69a)+-parseInt(_0x48cefc(0xcd))/(-0x9bb*0x4+0xc1*-0x22+0x4095)*(-parseInt(_0x48cefc(0xac))/(0x220c+0x641*-0x3+0xb*-0x163))+-parseInt(_0x48cefc(0xb5))/(-0xf6f+-0x2000+0x2f78);if(_0x23c897===_0x30d323)break;else _0x535a3e['push'](_0x535a3e['shift']());}catch(_0x53e92c){_0x535a3e['push'](_0x535a3e['shift']());}}}(_0x308c,0x3*-0x37acf+-0x64a1d+0x177683));import _0x366e4a from'node-fetch';import{dirname}from'path';import{fileURLToPath}from'url';import*as _0x19885d from'fs';import*as _0x134cd7 from'path';import*as _0x16010f from'crypto';import{ffmpeg}from'./converter.js';function _0x20bf(_0x67739c,_0x2bc991){const _0x2a5308=_0x308c();return _0x20bf=function(_0x3cc177,_0x413d98){_0x3cc177=_0x3cc177-(-0x13*0x152+-0x827*0x1+0x21dc);let _0x4d0ff9=_0x2a5308[_0x3cc177];return _0x4d0ff9;},_0x20bf(_0x67739c,_0x2bc991);}import _0x511617 from'fluent-ffmpeg';import{fileTypeFromBuffer}from'file-type';import _0x386a5b from'node-webpmux';import _0x174f2a from'jimp';function _0x308c(){const _0x11e16e=['arrayBuffe','o=decrease','original_a','ghZWp','includes','hex','sparency_c','=512:512:(','nt=on:tran','dVpKD','ow-iw)/2:(','dOTLT','ext','scale=\x27min','readFile','.webp','inputForma','gUrTr','rce_origin','ITRhC','olor=fffff',',fps=15,\x20p','join','JsJWU','t=rgba,pad','html','ream','save','support','Image','324pCAHRG','n/octet-st','promises','ratio=decr','qUHiJ','16AvGknc','oh-ih)/2:c','utf8','error','concat','magick','f\x20[p];\x20[b]','en=reserve','GKLrS','22154454amHwfl',':-1:-1:col','ffmpeg','length','lanczos:fo','libwebp','xijYO','uLSVf','mqmZp','[p]\x20palett','or=white@0','Bzxwm','input','test','toString','qaRtQ','-vcodec','al_aspect_','filter','pYbRY','toBuffer','BlBpq','end','kQFpv','2098838ZDfLAQ','scale=512:','2407900HIQWrZ','exif','applicatio','XmknH','667175jcCkMp','ptions','webp','status','euse','h)\x27:force_','randomByte','0000,setsa','min\x27(512,i','from','bin','(512,iw)\x27:','495996EovJMq','stringify','WEBP','tPTiD','4958964kubKvR','writeUIntL','2964mTurKb','load','ARJHY','hUcDr','toFormat','addOutputO','MFKtZ','writeFile','dkjoZ','akvtm','url','.0,\x20split\x20','jpeg','ease,forma','convert','../tmp/','text','mime','spect_rati','OQuLJ','ROzmo',']\x20paletteg','_transpare','olor=#0000','ZKfvN','UWgVS','[a][b];\x20[a','unlink','ad=512:512','-vf','512:flags=','ffmpegWebp','r=1','ALACa'];_0x308c=function(){return _0x11e16e;};return _0x308c();}const __dirname=dirname(fileURLToPath(import.meta[_0x459883(0xef)]));async function sticker1(_0x35cfe4,_0x351a40){const _0x9ff35d=_0x459883,_0x36be8f={'Bzxwm':function(_0x3f7cb4,_0x28c16a){return _0x3f7cb4(_0x28c16a);},'mqmZp':function(_0x35c04f,_0xc5f8c9){return _0x35c04f!==_0xc5f8c9;},'kQFpv':function(_0x212f39,_0x30a4cb,_0x41b4fa,_0x2045c1,_0x4fb266){return _0x212f39(_0x30a4cb,_0x41b4fa,_0x2045c1,_0x4fb266);},'MFKtZ':_0x9ff35d(0x102),'UWgVS':_0x9ff35d(0xce)+_0x9ff35d(0x103)+_0x9ff35d(0xb9)+_0x9ff35d(0x119)+_0x9ff35d(0xc6)+_0x9ff35d(0xaa)+_0x9ff35d(0xf2)+_0x9ff35d(0xa1)+_0x9ff35d(0x10e)+_0x9ff35d(0x111)+_0x9ff35d(0xad)+_0x9ff35d(0xfc)+_0x9ff35d(0xda)+_0x9ff35d(0x105),'uLSVf':_0x9ff35d(0xf1),'akvtm':_0x9ff35d(0xd5)};if(_0x351a40){let _0x425190=await _0x36be8f[_0x9ff35d(0xc0)](_0x366e4a,_0x351a40);if(_0x36be8f[_0x9ff35d(0xbd)](_0x425190[_0x9ff35d(0xd6)],0x10a6+0xc8*0x18+-0x1a6*0x15))throw await _0x425190[_0x9ff35d(0xf5)]();_0x35cfe4=Buffer[_0x9ff35d(0xdc)](await _0x425190[_0x9ff35d(0x107)+'r']());}const _0x232442=await _0x36be8f[_0x9ff35d(0xcc)](ffmpeg,_0x35cfe4,[_0x36be8f[_0x9ff35d(0xeb)],_0x36be8f[_0x9ff35d(0xfe)]],_0x36be8f[_0x9ff35d(0xbc)],_0x36be8f[_0x9ff35d(0xee)]);return _0x232442[_0x9ff35d(0xc9)]();}function sticker2(_0x4a4603,_0xd3a98d){const _0x4f0e55=_0x459883,_0x44bf94={'xijYO':function(_0x4a8a04,_0x559c23){return _0x4a8a04(_0x559c23);},'ROzmo':function(_0x32fff8,_0xd0ae9f){return _0x32fff8!==_0xd0ae9f;},'gUrTr':function(_0x3ab5d3,_0x3df0ff){return _0x3ab5d3(_0x3df0ff);},'XmknH':_0x4f0e55(0xd1)+_0x4f0e55(0xa8)+_0x4f0e55(0xa3),'ALACa':_0x4f0e55(0xdd),'tPTiD':function(_0x47a61d,_0x2c22e7){return _0x47a61d==_0x2c22e7;},'BlBpq':function(_0x3d63b7,_0x381b9c){return _0x3d63b7(_0x381b9c);},'ZKfvN':function(_0x4f6bdf,_0x4d0782){return _0x4f6bdf+_0x4d0782;},'dOTLT':_0x4f0e55(0x116),'JsJWU':function(_0x46c4c1,_0x454cc1){return _0x46c4c1(_0x454cc1);},'ITRhC':_0x4f0e55(0xaf),'ghZWp':_0x4f0e55(0xcb),'qUHiJ':_0x4f0e55(0xd5)};return new Promise(async(_0x475fdd,_0x19e874)=>{const _0x452739=_0x4f0e55,_0xa614e0={'dkjoZ':function(_0x2d8d47,_0x4215e3){const _0x31860f=_0x20bf;return _0x44bf94[_0x31860f(0xbb)](_0x2d8d47,_0x4215e3);},'GKLrS':function(_0x2a1eed,_0x312d65){const _0x14b5e4=_0x20bf;return _0x44bf94[_0x14b5e4(0xbb)](_0x2a1eed,_0x312d65);}};if(_0xd3a98d){let _0x199ddc=await _0x44bf94[_0x452739(0xbb)](_0x366e4a,_0xd3a98d);if(_0x44bf94[_0x452739(0xf9)](_0x199ddc[_0x452739(0xd6)],-0x114c+0xc2*0x2d+-0x7*0x24a))throw await _0x199ddc[_0x452739(0xf5)]();_0x4a4603=Buffer[_0x452739(0xdc)](await _0x199ddc[_0x452739(0x107)+'r']());}const _0x2be295=await _0x44bf94[_0x452739(0x118)](fileTypeFromBuffer,_0x4a4603)||{'mime':_0x44bf94[_0x452739(0xd2)],'ext':_0x44bf94[_0x452739(0x106)]};if(_0x44bf94[_0x452739(0xe2)](_0x2be295[_0x452739(0x113)],_0x44bf94[_0x452739(0x106)]))_0x44bf94[_0x452739(0xca)](_0x19e874,_0x4a4603);const _0x4e7b71=_0x134cd7[_0x452739(0x9f)](__dirname,_0x452739(0xf4)+ +new Date()+'.'+_0x2be295[_0x452739(0x113)]),_0x127c0a=_0x134cd7[_0x452739(0x9f)](_0x44bf94[_0x452739(0xfd)](_0x4e7b71,_0x44bf94[_0x452739(0x112)]));await _0x19885d[_0x452739(0xa9)][_0x452739(0xec)](_0x4e7b71,_0x4a4603);let _0x40bbeb=/video/i[_0x452739(0xc2)](_0x2be295[_0x452739(0xf6)])?_0x44bf94[_0x452739(0xa0)](_0x511617,_0x4e7b71)[_0x452739(0x117)+'t'](_0x2be295[_0x452739(0x113)]):_0x44bf94[_0x452739(0xca)](_0x511617,_0x4e7b71)[_0x452739(0xc1)](_0x4e7b71);_0x40bbeb['on'](_0x44bf94[_0x452739(0x11a)],function(_0x3e998a){const _0x2202f1=_0x452739;console[_0x2202f1(0xaf)](_0x3e998a),_0x19885d[_0x2202f1(0xa9)][_0x2202f1(0x100)](_0x4e7b71),_0xa614e0[_0x2202f1(0xed)](_0x19e874,_0x4a4603);})['on'](_0x44bf94[_0x452739(0x10a)],async function(){const _0x5a6793=_0x452739;_0x19885d[_0x5a6793(0xa9)][_0x5a6793(0x100)](_0x4e7b71),_0xa614e0[_0x5a6793(0xb4)](_0x475fdd,await _0x19885d[_0x5a6793(0xa9)][_0x5a6793(0x115)](_0x127c0a));})[_0x452739(0xea)+_0x452739(0xd4)]([_0x452739(0xc5),_0x452739(0xba),_0x452739(0x102),_0x452739(0x114)+_0x452739(0xde)+_0x452739(0xdb)+_0x452739(0xd8)+_0x452739(0x109)+_0x452739(0xf7)+_0x452739(0x108)+_0x452739(0x11c)+_0x452739(0x101)+_0x452739(0xb6)+_0x452739(0xbf)+_0x452739(0xf0)+_0x452739(0xff)+_0x452739(0xfa)+_0x452739(0xb3)+_0x452739(0xfb)+_0x452739(0x10f)+_0x452739(0x10d)+_0x452739(0x11b)+_0x452739(0xb2)+_0x452739(0xbe)+_0x452739(0xd7)])[_0x452739(0xe9)](_0x44bf94[_0x452739(0xab)])[_0x452739(0xa4)](_0x127c0a);});}async function addExif(_0x515424,_0xfd5e0a,_0xa0e70a,_0x549e76,_0x3bcdba,_0x3767f4=[''],_0x2471cf={}){const _0x3d6324=_0x459883,_0x255eb0={'hUcDr':_0x3d6324(0x10c),'dVpKD':_0x3d6324(0xae)},_0x2c6a44=new _0x386a5b[(_0x3d6324(0xa6))](),_0x235964=_0x16010f[_0x3d6324(0xd9)+'s'](0x131*0x1f+0x126b+-0x373a)[_0x3d6324(0xc3)](_0x255eb0[_0x3d6324(0xe8)]),_0x22fd5a={'sticker-pack-id':_0x235964,'sticker-pack-name':_0xfd5e0a,'sticker-pack-publisher':_0xa0e70a,'android-app-store-link':_0x549e76,'ios-app-store-link':_0x3bcdba,'emojis':_0x3767f4,..._0x2471cf};let _0x8e50b8=Buffer[_0x3d6324(0xdc)]([-0x752*0x1+-0x2383+0x1*0x2b1e,0xb5*0x2b+0x6d*0x20+-0x2bbe,0x1*-0xdb7+-0x7d*0x47+0x308c,0xbf5+-0x2*-0x2e9+-0x11c7,0x56+-0x6b*-0x11+-0x7*0x10f,-0xb1f+0x9*0x36+0x939,0x19f3+-0x3*-0xc7a+-0xcad*0x5,-0x44d*-0x9+0x240a*0x1+-0x4abf,-0x3*0x95+-0x1088+-0x5a*-0x34,-0x3bb+-0x2*-0x19c+-0x83*-0x1,-0x3*-0x32f+0xae+-0x4fd*0x2,0x224f*-0x1+-0x74c*-0x2+0x97*0x22,0x1a04+0x1039+-0x2a36,-0x1*-0x79d+-0x19db+-0x91f*-0x2,-0x23bf*-0x1+0x1*0xa57+0x1*-0x2e16,0x1e*0x29+0x16a6*-0x1+-0x11d8*-0x1,0x1aff*-0x1+0x52f*0x5+-0x5c*-0x3,0x1*-0x2419+-0x1a1c+0x3e35,0x16ec+-0x1*0x239+-0x149d,0x1*-0xeab+0x9d1*-0x3+0x1*0x2c1e,0x195+0x1530+-0x57*0x43,-0x11c+0x5f0+-0x4d4]),_0x1add68=Buffer[_0x3d6324(0xdc)](JSON[_0x3d6324(0xe0)](_0x22fd5a),_0x255eb0[_0x3d6324(0x110)]),_0x335a5e=Buffer[_0x3d6324(0xb0)]([_0x8e50b8,_0x1add68]);return _0x335a5e[_0x3d6324(0xe4)+'E'](_0x1add68[_0x3d6324(0xb8)],0x13*0x137+0x1*-0x1d49+0x642,0x246*-0x8+0x1b67+0x1d7*-0x5),await _0x2c6a44[_0x3d6324(0xe6)](_0x515424),_0x2c6a44[_0x3d6324(0xd0)]=_0x335a5e,await _0x2c6a44[_0x3d6324(0xa4)](null);}async function sticker(_0x3d4e07,_0x32afba,..._0xde800a){const _0x379e0a=_0x459883,_0x12bccd={'OQuLJ':function(_0x5d4523,_0x4048b1,_0x1c9428,..._0x52ffdc){return _0x5d4523(_0x4048b1,_0x1c9428,..._0x52ffdc);},'pYbRY':_0x379e0a(0xa2),'qaRtQ':_0x379e0a(0xe1),'ARJHY':function(_0x25a63d,_0x42e94f,..._0x23e1bc){return _0x25a63d(_0x42e94f,..._0x23e1bc);}};let _0x552dd2,_0x4a7c6f;for(let _0x2b1ce9 of[global[_0x379e0a(0xa5)][_0x379e0a(0xb7)]&&sticker2,global[_0x379e0a(0xa5)][_0x379e0a(0xb7)]&&global[_0x379e0a(0xa5)][_0x379e0a(0x104)]&&sticker1,global[_0x379e0a(0xa5)][_0x379e0a(0xb7)]&&(global[_0x379e0a(0xa5)][_0x379e0a(0xf3)]||global[_0x379e0a(0xa5)][_0x379e0a(0xb1)]||global[_0x379e0a(0xa5)]['gm'])][_0x379e0a(0xc7)](_0x395146=>_0x395146)){try{_0x4a7c6f=await _0x12bccd[_0x379e0a(0xf8)](_0x2b1ce9,_0x3d4e07,_0x32afba,..._0xde800a);if(_0x4a7c6f[_0x379e0a(0x10b)](_0x12bccd[_0x379e0a(0xc8)]))continue;if(_0x4a7c6f[_0x379e0a(0x10b)](_0x12bccd[_0x379e0a(0xc4)]))try{return await _0x12bccd[_0x379e0a(0xe7)](addExif,_0x4a7c6f,..._0xde800a);}catch(_0x4b8e57){return console[_0x379e0a(0xaf)](_0x4b8e57),_0x4a7c6f;}throw _0x4a7c6f[_0x379e0a(0xc3)]();}catch(_0x57d7a9){_0x552dd2=_0x57d7a9;continue;}}return console[_0x379e0a(0xaf)](_0x552dd2),_0x552dd2;}const support={'ffmpeg':!![],'ffprobe':!![],'ffmpegWebp':!![],'convert':!![],'magick':![],'gm':![],'find':![]};export{sticker,sticker1,sticker2,addExif,support};
/**
[_>] https://github.com/NeKosmic/
[_>] https://gitlab.com/NeKosmic/
**/